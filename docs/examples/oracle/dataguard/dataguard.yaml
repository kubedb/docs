apiVersion: kubedb.com/v1alpha2
kind: Oracle
metadata:
  name: oracle-sample
  namespace: demo
spec:
  dataGuard:
    applyLagThreshold: 0
    fastStartFailover:
      fastStartFailoverThreshold: 15
    observer:
      podTemplate:
        spec:
          containers:
            - name: observer
              resources:
                limits:
                  cpu: "1"
                  memory: 2Gi
                requests:
                  cpu: 500m
                  memory: 2Gi
          initContainers:
            - name: observer-init
              resources:
                limits:
                  memory: 512Mi
                requests:
                  cpu: 200m
                  memory: 256Mi
          podPlacementPolicy:
            name: default
      storage:
        resources:
          requests:
            storage: 1Gi
    protectionMode: MaximumProtection
    standbyType: PHYSICAL
    syncMode: SYNC
    transportLagThreshold: 0
  deletionPolicy: Delete
  edition: enterprise
  mode: DataGuard
  podTemplate:
    spec:
      containers:
        - name: oracle
          resources:
            limits:
              cpu: "4"
              memory: 10Gi
            requests:
              cpu: "1500m"
              memory: 4Gi
        - name: oracle-coordinator
          resources:
            limits:
              memory: 256Mi
            requests:
              cpu: 200m
              memory: 256Mi
      initContainers:
        - name: oracle-init
          resources:
            limits:
              memory: 512Mi
            requests:
              cpu: 200m
              memory: 256Mi
      podPlacementPolicy:
        name: default
      securityContext:
        fsGroup: 54321
        runAsGroup: 54321
        runAsUser: 54321
      serviceAccountName: oracle-sample
  replicas: 3
  storage:
    accessModes:
      - ReadWriteOnce
    resources:
      requests:
        storage: 30Gi
  storageType: Durable
  version: 21.3.0